//Source file generated by Etomica

package etomica.simulations;

import etomica.*;
import etomica.graphics.*;

//remember to set up Space3D.CoordinatePair.reset if experiencing 
//problems with this simulation hanging

public class HSMD3D extends SimulationGraphic {

  public HSMD3D() {
//	super(new Space3D());
//	Default.makeLJDefaults();
//	Controller controller = new Controller (this);
//	Integrator integrator = new IntegratorHard(this);
//	P2HardSphere potential  = new P2HardSphere();
//	SpeciesSpheresMono species    = new SpeciesSpheresMono(this);
//	species.setNMolecules(108);
//	potential.setSpecies(new Species[] {species});
//	Phase phase      = new Phase(this);
//	Display display = new DisplayPhase(this);
//	Device device = new DeviceTrioControllerButton(this);
//	MeterTemperature thermometer = new MeterTemperature(this);
//	etomica.units.Unit kelvin = etomica.units.Kelvin.UNIT;
//	DisplayBox tempBox = new DisplayBox((DatumSource)thermometer);
//	ColorSchemeByType.setColor(species, java.awt.Color.blue);
//      
//	//Tie elements together
//	this.elementCoordinator.go();
//	phase.setDensity(0.5);
 //   super(new etomica.space.continuum.Space(3));
    super(new etomica.Space3D());
    Simulation.instance = this;
    Default.makeLJDefaults();
//    Default.ATOM_SIZE = 6.6;
//    Default.DISPLAY_USE_OPENGL = false;
    etomica.Phase phase0  = new etomica.Phase();
//    phase0.setConfiguration(new ConfigurationFcc());
    etomica.P2HardSphere potentialHardSphere0  = new etomica.P2HardSphere();
    etomica.Controller controller0  = new etomica.Controller();
    new DeviceTrioControllerButton(this, controller0);
    etomica.SpeciesSpheresMono speciesSpheres0  = new etomica.SpeciesSpheresMono();
    this.hamiltonian.potential.setSpecies(potentialHardSphere0, new Species[] {speciesSpheres0,speciesSpheres0});
//    etomica.SpeciesSpheres speciesSpheres0  = new etomica.SpeciesSpheres();
      speciesSpheres0.setNMolecules(108);
//      speciesSpheres0.setColor(new java.awt.Color(0,255,0));
    etomica.graphics.DisplayPhase displayPhase0  = new etomica.graphics.DisplayPhase();

    displayPhase0.setColorScheme(new ColorSchemeByType());
    //this is awkward!
    ColorSchemeByType.setColor(speciesSpheres0, java.awt.Color.blue);
 //   ((ParameterColor)((AtomFactoryMono)speciesSpheres0.moleculeFactory()).type().parameter[ColorSchemeByType.colorIndex]).setColor(java.awt.Color.blue);

    etomica.IntegratorHard integratorHard0  = new etomica.IntegratorHard();
 //     integratorHard0.setIsothermal(true);
 //     integratorHard0.setTemperature(1500.);
 	MeterPressureHard meterPressure = new MeterPressureHard();
// 	DisplayBox box = new DisplayBox();
// 	box.setDatumSource(meterPressure);
    mediator().go();
    phase0.setDensity(0.5);
    System.out.println(phase0.getAgent(speciesSpheres0).coord.momentum().toString());
  } //end of constructor

  public static void main(String[] args) {
    Simulation sim = new HSMD3D();
    sim.mediator().go(); 
    SimulationGraphic.makeAndDisplayFrame(sim);
  //  sim.controller(0).start();
  }//end of main
}//end of class
